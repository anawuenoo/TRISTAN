<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, user-scalable=no" />
  <title>Categoría Poesía | Triistam</title>
  <link rel="shortcut icon" href="img/icono-web/libro-icono.svg" type="image/x-icon" />
  <link rel="stylesheet" href="css/reset_estilos.css" />
  <link rel="stylesheet" href="css/estilos.css" />
  <link rel="stylesheet" href="css/responsive.css" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    .content__cards {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 20px;
      margin-top: 20px;
    }
    .cards__card {
      width: 210px;
      height: 320px;
      text-align: center;
      background-color: #fff;
      border-radius: 10px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.2);
      overflow: hidden;
      transition: transform 0.3s, box-shadow 0.3s;
      display: flex;
      flex-direction: column;
      align-items: center;
      position: relative;
      margin: 10px;
    }
    .cards__card:hover {
      transform: scale(1.05);
      box-shadow: 0 6px 12px rgba(0,0,0,0.3);
    }
    .card__image {
      width: 100%;
      height: 220px;
      object-fit: cover;
      border-bottom: 2px solid #ddd;
    }
    .card__title {
      font-size: 16px;
      font-weight: bold;
      margin-top: 8px;
      white-space: normal;
      text-overflow: initial;
    }
    .card__author {
      color: #666;
      font-size: 14px;
    }
    .card__description {
      font-size: 13px;
      color: #888;
      white-space: normal;
      display: -webkit-box;
      -webkit-line-clamp: 2;
      -webkit-box-orient: vertical;
      overflow: hidden;
      text-overflow: ellipsis;
      height: 36px;
    }
    /* Buscador avanzado */
    .busqueda-avanzada label {
      font-family: "BebasNeue";
      font-size: 18px;
      margin-top: 8px;
    }
    .busqueda-avanzada input,
    .busqueda-avanzada select {
      font-size: 16px;
      margin-bottom: 10px;
    }
    .busqueda-avanzada {
      background: #fff;
      border-radius: 10px;
      padding: 25px 20px 15px 20px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.08);
      max-width: 700px;
      margin: 35px auto 30px auto;
    }
    .busqueda-avanzada .btn {
      width: 100%;
      margin-top: 10px;
    }
    /* Resultados en grid */
    #resultados.content__cards {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      grid-template-rows: repeat(2, 1fr);
      gap: 24px;
      justify-items: center;
      align-items: stretch;
      margin-top: 30px;
    }
    @media (max-width: 1100px) {
      #resultados.content__cards { grid-template-columns: repeat(2, 1fr); grid-template-rows: repeat(4, 1fr);}
      .cards__card { width: 45vw; height: auto; }
      .card__image { height: 180px; }
    }
    @media (max-width: 700px) {
      #resultados.content__cards { grid-template-columns: 1fr; grid-template-rows: repeat(8, 1fr);}
      .cards__card { width: 90vw; height: auto; }
      .card__image { height: 200px; }
    }
    
  </style>
</head>
<body>
  <!-- Navbar personalizado -->
  <header class="header">
    <div class="header__wrap">
      <div class="header__logo">
        <img src="./img/logo.png" alt="Logo Librería" class="logo__img" />
        <!-- Agregamos el nombre aquí -->
        
      </div>
      <nav class="header__menu">
        <ul class="menu__list">
          <li class="list__item"><a href="index.html">INICIO</a></li>
          <li class="list__item"><a href="#">CATEGORIAS</a></li>
          <li class="list__item"><a href="autores.html">AUTORES</a></li>
          <li class="list__item"><a href="#">NOTICIAS</a></li>
          <li class="list__item"><a href="suscripciones.html">SUSCRIPCIONES</a></li>
          <li class="list__item"><a href="#">CONTACTO</a></li>
        </ul>
      </nav>
      
      <div class="buttons">
        <button class="botonIniciar"><a class="texto-boton" href="Login-v2/login/login.html">Inicar Sesión</a></button>
        <button class="btnRegistro"><a class="texto-botonRe" href="Login-v2/signup/signup.html">Registrarse </a></button>
      </div>
    </div>
  </header>

  <main class="content__wrap">
    <h1 class="texto_poesia mt-4">POESÍA</h1>
    <h2 class="texto_principal" style="margin-top: 20px;">Recomendados</h2>
    <div class="content__cards" id="recomendados-carrusel">
      <div class="cards__card">
        <img src="img/Cantar de Mio Cid.jpg" alt="Cantar de Mio Cid" class="card__image">
        <h3 class="card__title">Cantar de Mio Cid</h3>
        <div class="card__author">Anónimo</div>
        <div class="card__description">Primer poema épico extenso en castellano, narra las hazañas de Rodrigo Díaz de Vivar, el Cid.</div>
      </div>
      <div class="cards__card">
        <img src="img/Poema de Fernán González.jpeg" alt="Poema de Fernán González" class="card__image">
        <h3 class="card__title">Poema de Fernán González</h3>
        <div class="card__author">Anónimo</div>
        <div class="card__description">Relata la vida de Fernán González, clave en la independencia de Castilla. Cuaderna vía y tono religioso.</div>
      </div>
      <div class="cards__card">
        <img src="img/Romances del Romancero Español.png" alt="Romances del Romancero Español" class="card__image">
        <h3 class="card__title">Romances del Romancero Español</h3>
        <div class="card__author">Anónimo</div>
        <div class="card__description">Colección de poemas narrativos breves de tradición oral, sobre amores, guerras y traiciones.</div>
      </div>
      <div class="cards__card">
        <img src="img/Cantigas de Santa María.jpg" alt="Cantigas de Santa María" class="card__image">
        <h3 class="card__title">Cantigas de Santa María</h3>
        <div class="card__author">Anónimo</div>
        <div class="card__description">Más de 400 cantigas en alabanza a la Virgen María, poesía y música bajo Alfonso X.</div>
      </div>
    </div>

    <form id="busquedaAvanzada" class="busqueda-avanzada">
      <div class="row">
        <div class="col-md-6">
          <label for="busqueda">Palabras clave</label>
          <input type="text" class="form-control" id="busqueda" placeholder="Palabra clave, título o ISBN">
        </div>
        <div class="col-md-6">
          <label for="filtroAutor">Autor</label>
          <input type="text" class="form-control" id="filtroAutor" placeholder="Autor">
        </div>
      </div>
      <div class="row">
        <div class="col-md-6">
          <label for="filtroTitulo">Título</label>
          <input type="text" class="form-control" id="filtroTitulo" placeholder="Título">
        </div>
        <div class="col-md-6">
          <label for="filtroISBN">ISBN</label>
          <input type="text" class="form-control" id="filtroISBN" placeholder="ISBN">
        </div>
      </div>
      <div class="row">
        <div class="col-md-6">
          <label for="filtroEditorial">Editorial</label>
          <input type="text" class="form-control" id="filtroEditorial" placeholder="Editorial">
        </div>
        <div class="col-md-6">
          <label for="filtroCategoria">Categoría</label>
          <select id="filtroCategoria" class="form-select">
            <option value="">Todas las categorías</option>
            <option value="Poesía épica medieval">Poesía épica medieval</option>
            <option value="Poesía lírica medieval">Poesía lírica medieval</option>
            <option value="Poesía lírica religiosa">Poesía lírica religiosa</option>
            <option value="Poesía lírica popular">Poesía lírica popular</option>
            <option value="Poesía narrativa aljamiada">Poesía narrativa aljamiada</option>
            <option value="Poesía lírica y narrativa">Poesía lírica y narrativa</option>
            <option value="Poesía narrativa">Poesía narrativa</option>
          </select>
        </div>
      </div>
      <div class="row">
        <div class="col-md-6">
          <label for="filtroIdioma">Idioma</label>
          <select id="filtroIdioma" class="form-select">
            <option value="">Cualquier idioma</option>
            <option value="Castellano medieval">Castellano medieval</option>
            <option value="Castellano">Castellano</option>
            <option value="Gallego-portugués">Gallego-portugués</option>
            <option value="Aljamiado">Aljamiado</option>
            <option value="Español">Español</option>
          </select>
        </div>
        <div class="col-md-6">
          <label for="filtroFormato">Formato</label>
          <select id="filtroFormato" class="form-select">
            <option value="">Cualquier formato</option>
            <option value="Tapa blanda">Tapa blanda</option>
            <option value="Tapa dura">Tapa dura</option>
            <option value="Digital">Digital</option>
          </select>
        </div>
      </div>
      <div class="row">
        <div class="col-md-4">
          <label for="filtroFecha">Fecha de publicación</label>
          <input type="month" class="form-control" id="filtroFecha">
        </div>
        <div class="col-md-4">
          <label for="ordenAlfabetico">Ordenar por</label>
          <select id="ordenAlfabetico" class="form-select">
            <option value="az">A-Z</option>
            <option value="za">Z-A</option>
          </select>
        </div>
        <div class="col-md-4 d-flex align-items-end">
          <button type="submit" class="btn btn--secondary search-bar__button">Buscar</button>
        </div>
      </div>
    </form>

    <h2 class="texto_principal" style="margin-top: 40px;">Resultados de búsqueda</h2>
    <div id="resultados" class="content__cards"></div>
  </main>

  <footer class="footer">
    <div class="footer__wrap">
        <!-- Contenido izquierda (redes sociales) -->
        <div class="footer-left">
            <div class="footer__social">
                <button class="footer__button">REDES SOCIALES</button>
                <div class="footer__icons">
                    <a href="#"><img src="img/facebook.png" alt="Facebook"></a>
                    <a href="#"><img src="img/instagram.png" alt="Instagram"></a>
                    <a href="#"><img src="img/twitter.png" alt="X/Twitter"></a>
                </div>
            </div>
        </div>

        <!-- Copyright centrado -->
        <div class="footer-center">
            <p class="footer_copy">© 2025 Tristan: Behind The Books - Todos los derechos reservados</p>
        </div>

        <!-- Newsletter a la derecha -->
        <div class="footer-right">
            <form class="newsletter-form">
                <div class="newsletter-header">
                    <span class="newsletter-label">Newsletter</span>
                    <input type="email" placeholder="Tu email" required>
                </div>
                <div class="newsletter-options">
                    <label class="newsletter-checkbox">
                        <input type="checkbox" name="newsletter-all" checked>
                        <span>Todas</span>
                    </label>
                    <label class="newsletter-checkbox">
                        <input type="checkbox" name="newsletter-poetry">
                        <span>Poesía</span>
                    </label>
                    <label class="newsletter-checkbox">
                        <input type="checkbox" name="newsletter-literature">
                        <span>Literatura</span>
                    </label>
                    <label class="newsletter-checkbox">
                        <input type="checkbox" name="newsletter-fantasy">
                        <span>Fantasía</span>
                    </label>
                    <label class="newsletter-checkbox">
                        <input type="checkbox" name="newsletter-children">
                        <span>Infantil</span>
                    </label>
                </div>
            </form>
        </div>
    </div>
</footer>

  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    // Libros anónimos medievales y populares
    const libros = [
      {
        titulo: "Cantar de Mio Cid",
        autor: "Anónimo",
        categoria: "Poesía épica medieval",
        descripcion: "Primer poema épico extenso en castellano, narra las hazañas de Rodrigo Díaz de Vivar, el Cid.",
        imagen: "img/Cantar de Mio Cid.jpg",
        editorial: "Crítica",
        idioma: "Castellano medieval",
        formato: "Tapa blanda",
        fecha: "1200-01",
        isbn: "9788484321215"
      },
      {
        titulo: "Poema de Fernán González",
        autor: "Anónimo",
        categoria: "Poesía épica medieval",
        descripcion: "Relata la vida de Fernán González, clave en la independencia de Castilla. Cuaderna vía y tono religioso.",
        imagen: "img/Poema de Fernán González.jpeg",
        editorial: "Castalia",
        idioma: "Castellano medieval",
        formato: "Tapa blanda",
        fecha: "1250-01",
        isbn: "9788497407283"
      },
      {
        titulo: "Romances del Romancero Español",
        autor: "Anónimo",
        categoria: "Poesía narrativa",
        descripcion: "Colección de poemas narrativos breves de tradición oral, sobre amores, guerras y traiciones.",
        imagen: "img/Romances del Romancero Español.png",
        editorial: "Cátedra",
        idioma: "Castellano",
        formato: "Tapa blanda",
        fecha: "2001-01",
        isbn: "9788437601231"
      },
      {
        titulo: "Cantigas de Santa María",
        autor: "Anónimo",
        categoria: "Poesía lírica religiosa",
        descripcion: "Más de 400 cantigas en alabanza a la Virgen María, poesía y música bajo Alfonso X.",
        imagen: "img/Cantigas de Santa María.jpg",
        editorial: "Edilán",
        idioma: "Gallego-portugués",
        formato: "Tapa dura",
        fecha: "1280-01",
        isbn: "9788471690917"
      },
      {
        titulo: "Cantigas de Amigo",
        autor: "Anónimo",
        categoria: "Poesía lírica medieval",
        descripcion: "Poemas líricos galaico-portugueses desde la perspectiva femenina, amor y naturaleza.",
        imagen: "img/Cantigas de Amigo.jpg",
        editorial: "Galaxia",
        idioma: "Gallego-portugués",
        formato: "Tapa blanda",
        fecha: "1300-01",
        isbn: "9788471548935"
      },
      {
        titulo: "Poema de Yuçuf",
        autor: "Anónimo",
        categoria: "Poesía narrativa aljamiada",
        descripcion: "Poema morisco sobre el profeta José, escrito en aljamiado y cuaderna vía.",
        imagen: "img/Poema de Yuçuf.jpg",
        editorial: "Gredos",
        idioma: "Aljamiado",
        formato: "Tapa blanda",
        fecha: "1350-01",
        isbn: "9788424912554"
      },
      {
        titulo: "Villancicos Tradicionales Ibéricos",
        autor: "Anónimo",
        categoria: "Poesía lírica popular",
        descripcion: "Poemas breves de origen popular, profanos y religiosos, reflejo de la voz colectiva.",
        imagen: "img/Villancicos Tradicionales Ibéricos.jpg",
        editorial: "Fondo de Cultura Económica",
        idioma: "Castellano",
        formato: "Tapa blanda",
        fecha: "1995-01",
        isbn: "9789681625506"
      },
      {
        titulo: "Poesía Popular Anónima Latinoamérica",
        autor: "Anónimo",
        categoria: "Poesía lírica y narrativa",
        descripcion: "Coplas, décimas y canciones populares de América Latina, patrimonio cultural colectivo.",
        imagen: "img/Poesía Popular Anónima Latinoamerica.jpeg",
        editorial: "Editorial Universitaria de Buenos Aires",
        idioma: "Español",
        formato: "Tapa blanda",
        fecha: "2003-01",
        isbn: "9789502311231"
      }
    ];

    function filtrarLibros() {
      const texto = document.getElementById('busqueda').value.toLowerCase();
      const autor = document.getElementById('filtroAutor').value.toLowerCase();
      const titulo = document.getElementById('filtroTitulo').value.toLowerCase();
      const isbn = document.getElementById('filtroISBN').value.toLowerCase();
      const editorial = document.getElementById('filtroEditorial').value.toLowerCase();
      const categoria = document.getElementById('filtroCategoria').value;
      const idioma = document.getElementById('filtroIdioma').value;
      const formato = document.getElementById('filtroFormato').value;
      const fecha = document.getElementById('filtroFecha').value;
      const orden = document.getElementById('ordenAlfabetico').value;

      let filtrados = libros.filter(libro => {
        const coincideTexto = texto === "" || libro.titulo.toLowerCase().includes(texto) || libro.autor.toLowerCase().includes(texto) || libro.descripcion.toLowerCase().includes(texto) || libro.isbn.toLowerCase().includes(texto);
        const coincideAutor = autor === "" || libro.autor.toLowerCase().includes(autor);
        const coincideTitulo = titulo === "" || libro.titulo.toLowerCase().includes(titulo);
        const coincideISBN = isbn === "" || libro.isbn.toLowerCase().includes(isbn);
        const coincideEditorial = editorial === "" || libro.editorial.toLowerCase().includes(editorial);
        const coincideCategoria = categoria === "" || libro.categoria === categoria;
        const coincideIdioma = idioma === "" || libro.idioma === idioma;
        const coincideFormato = formato === "" || libro.formato === formato;
        const coincideFecha = fecha === "" || libro.fecha.startsWith(fecha);
        return coincideTexto && coincideAutor && coincideTitulo && coincideISBN && coincideEditorial && coincideCategoria && coincideIdioma && coincideFormato && coincideFecha;
      });

      // Orden alfabético
      filtrados.sort((a, b) => {
        if (orden === "az") return a.titulo.localeCompare(b.titulo);
        else return b.titulo.localeCompare(a.titulo);
      });

      mostrarResultados(filtrados);
    }

    function mostrarResultados(filtrados) {
      const resultados = document.getElementById('resultados');
      resultados.innerHTML = filtrados.map(libro => `
        <div class="cards__card">
          <img src="${libro.imagen}" alt="${libro.titulo}" class="card__image">
          <h3 class="card__title">${libro.titulo}</h3>
          <div class="card__author">${libro.autor}</div>
          <div class="card__description">${libro.descripcion}</div>
        </div>
      `).join('') || "<p style='width:100%;text-align:center;'>No se encontraron resultados.</p>";
    }

    document.getElementById('busquedaAvanzada').addEventListener('submit', function(e) {
      e.preventDefault();
      filtrarLibros();
    });

    // Filtros reactivos
    document.getElementById('busqueda').addEventListener('input', filtrarLibros);
    document.getElementById('filtroAutor').addEventListener('input', filtrarLibros);
    document.getElementById('filtroTitulo').addEventListener('input', filtrarLibros);
    document.getElementById('filtroISBN').addEventListener('input', filtrarLibros);
    document.getElementById('filtroEditorial').addEventListener('input', filtrarLibros);
    document.getElementById('filtroCategoria').addEventListener('change', filtrarLibros);
    document.getElementById('filtroIdioma').addEventListener('change', filtrarLibros);
    document.getElementById('filtroFormato').addEventListener('change', filtrarLibros);
    document.getElementById('filtroFecha').addEventListener('change', filtrarLibros);
    document.getElementById('ordenAlfabetico').addEventListener('change', filtrarLibros);

    // Mostrar todos al cargar
    mostrarResultados(libros);
  </script>
</body>
</html>